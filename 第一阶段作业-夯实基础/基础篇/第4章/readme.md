# 第四章学习笔记

### 1	面向对象思想

- 现实世界是由对象和对象之间相互作用共同组成的 。
- 每个对象有自己的特有属性，也有自己专有的方法。外部对象想要调用这些方法，可以向它请求并传入参数，等方法执行结束后，返回结果。
- 对象=属性+方法。
- 对象的规范=属性定义+方法定义。
- Java 中，引入对象和类的概念
  - 对象是一个变量（具体的东西）
  - 类就是类型（是规范，是定义），从万千对象中抽取共性
  - 类规定了对象应该有的属性内容和方法
  - 对象是类的具体实现，是活生生的
    - 例：土豆丝菜谱是类，那么一盘土豆丝就是对象
- OP 的典型代表是 C 和 Pascal 。更强调方法动作，所有的变量是被动参与进来，没有自主决定权。
- OO 的方法属于每个对象的。能否实现是由每个对象说了算的，有主人翁精神。
- 类可以继承：子类可以继承父类所有内容,但是不能直接访问private 成员,可以通过调用父类的方法间接访问
- 当前面向对象语言最主要的代表是 C++ 和 Java 
- 面向对象语言主要特点
  - 识认性：辨识、认定对象。
  - 类别性：归类对象。
  - 多态性：同类的对象有共性，也有差异。
  - 继承性：子类继承父类所有的东西。



### 2	Java 类和对象

- 举例一个最简单的类class A{ } // 它是没有任何属性和行为

- New对象：A obj = new A();

- 类是定义，是规范，是“死”的东西

- 对象是实例，是类的一个实现，是一个具体的东西。

- 打个比方

  - 类等价于一个土豆丝菜谱
  - 对象是根据类制作出的对象，等价于一盘土豆丝，是一个真真切切存在的一个实物。

- A obj1 = new A(); A obj2 = new A();这2 个对象，它们的类型都是 A ，但是这是两个不同的对象，在内存中有不同的存放地址。因此， 没有两个对象是完全一样的。

- A obj = new A();obj 可以看作是内存中一个对象 包括若干个数据的句柄

- 在 C/C++ 中， obj 称为指针，在 Java 中称为 Reference

- 对象赋值是 Reference 赋值，而基本类型是直接值拷贝

- 产生一个对象是通过此语句产生的>>A obj = new A();

- new 出对象后，内部属性值默认是：

  - ```
    short 0 
    int 0 
    long 0L
    boolean false
    char ‘\u0000'
    byte 0
    float 0.0f
    double 0.0d
    ```

    

    

### 3    构造函数

- Java构造函数的名称必须和类名一样，且没有返回值
- Java有构造函数，但是没有析构函数
  - 构造函数是制造对象（对象初始化）的过程，析构函数是清除对象的过程
- 每个变量都是有生命周期的，它只能存储在离它最近的一对{ }中
- 当变量被创建时，变量将占据内存；当变量消亡时，系统将回收内存
- Java具有内存自动回收机制的，当变量退出其生命周期后，JVM会自动回收所分配的对象的内存。所以不需要析构函数来释放内存。
- 对象回收效率依赖于垃圾回收器GC（Garbage Collector），回收算法关系到性能好坏，是JVM的研究热点。
- 每个Java类都必须有构造函数。
- 如果没有显式定义构造函数，Java编译器自动为该类产生一个空的无形参构造函数。如果已经有了显式的有参构造函数，编译器就不会越俎代庖了。
- 每个子类的构造函数的第一句话，都默认调用父类的无参数构造函数super()，除非子类的构造函数第一句话是super，而且super语句必须放在第一条，不会出现连续两条super语句。
- 一个类可以有多个构造函数，只要形参列表不相同即可。
- 在new对象的时候，根据实参的不同，自动挑选相应的构造函数。如果实参形参匹配不上，将会报错。



### 4	信息隐藏和this

- 面向对象有一个法则：信息隐藏
  - 类的成员属性，是私有的 private
  - 类的方法是公有 public 的，通过方法修改成员属性的值。
- 打个比方
  - 朋友再熟悉，也不会到他抽屉直接拿东西，而是通过他的公开接口来访问、修改东西。
- get 和 set 方法是公有 public 的，统称为 getter 和 setter
- 外界对类成员的操作只能通过 get 和 set 方法
- get 和 set 方法可以用 Java IDE 快速生成，生成方法:
  - 在source菜单项下选择Generate  Getters and Setters 选项即可自动生成。
- this 负责指向本类中的成员
  - 成员指成员变量，成员方法等

- this 可以代替本类的构造函数